var He=Object.defineProperty;var Te=(t,e,r)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var I=(t,e,r)=>Te(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&_(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function _(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var G,f,ve,P,oe,ge,be,ke,ee,Q,K,L={},we=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,B=Array.isArray;function E(t,e){for(var r in e)t[r]=e[r];return t}function te(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,e,r){var _,o,n,l={};for(n in e)n=="key"?_=e[n]:n=="ref"?o=e[n]:l[n]=e[n];if(arguments.length>2&&(l.children=arguments.length>3?G.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)l[n]===void 0&&(l[n]=t.defaultProps[n]);return q(t,l,_,o,null)}function q(t,e,r,_,o){var n={type:t,props:e,key:r,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++ve,__i:-1,__u:0};return o==null&&f.vnode!=null&&f.vnode(n),n}function $(t){return t.children}function O(t,e){this.props=t,this.context=e}function D(t,e){if(e==null)return t.__?D(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?D(t):null}function Ne(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Ne(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!U.__r++||oe!=f.debounceRendering)&&((oe=f.debounceRendering)||ge)(U)}function U(){for(var t,e,r,_,o,n,l,c=1;P.length;)P.length>c&&P.sort(be),t=P.shift(),c=P.length,t.__d&&(r=void 0,_=void 0,o=(_=(e=t).__v).__e,n=[],l=[],e.__P&&((r=E({},_)).__v=_.__v+1,f.vnode&&f.vnode(r),re(e.__P,r,_,e.__n,e.__P.namespaceURI,32&_.__u?[o]:null,n,o??D(_),!!(32&_.__u),l),r.__v=_.__v,r.__.__k[r.__i]=r,Ce(n,r,l),_.__e=_.__=null,r.__e!=o&&Ne(r)));U.__r=0}function Ee(t,e,r,_,o,n,l,c,h,s,p){var i,u,d,v,w,k,m,y=_&&_.__k||we,S=e.length;for(h=Re(r,e,y,h,S),i=0;i<S;i++)(d=r.__k[i])!=null&&(u=d.__i==-1?L:y[d.__i]||L,d.__i=i,k=re(t,d,u,o,n,l,c,h,s,p),v=d.__e,d.ref&&u.ref!=d.ref&&(u.ref&&ne(u.ref,null,d),p.push(d.ref,d.__c||v,d)),w==null&&v!=null&&(w=v),(m=!!(4&d.__u))||u.__k===d.__k?h=Se(d,h,t,m):typeof d.type=="function"&&k!==void 0?h=k:v&&(h=v.nextSibling),d.__u&=-7);return r.__e=w,h}function Re(t,e,r,_,o){var n,l,c,h,s,p=r.length,i=p,u=0;for(t.__k=new Array(o),n=0;n<o;n++)(l=e[n])!=null&&typeof l!="boolean"&&typeof l!="function"?(h=n+u,(l=t.__k[n]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?q(null,l,null,null,null):B(l)?q($,{children:l},null,null,null):l.constructor==null&&l.__b>0?q(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,c=null,(s=l.__i=Ae(l,r,h,i))!=-1&&(i--,(c=r[s])&&(c.__u|=2)),c==null||c.__v==null?(s==-1&&(o>p?u--:o<p&&u++),typeof l.type!="function"&&(l.__u|=4)):s!=h&&(s==h-1?u--:s==h+1?u++:(s>h?u--:u++,l.__u|=4))):t.__k[n]=null;if(i)for(n=0;n<p;n++)(c=r[n])!=null&&!(2&c.__u)&&(c.__e==_&&(_=D(c)),xe(c,c));return _}function Se(t,e,r,_){var o,n;if(typeof t.type=="function"){for(o=t.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=t,e=Se(o[n],e,r,_));return e}t.__e!=e&&(_&&(e&&t.type&&!e.parentNode&&(e=D(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ae(t,e,r,_){var o,n,l,c=t.key,h=t.type,s=e[r],p=s!=null&&(2&s.__u)==0;if(s===null&&t.key==null||p&&c==s.key&&h==s.type)return r;if(_>(p?1:0)){for(o=r-1,n=r+1;o>=0||n<e.length;)if((s=e[l=o>=0?o--:n++])!=null&&!(2&s.__u)&&c==s.key&&h==s.type)return l}return-1}function le(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Le.test(e)?r:r+"px"}function M(t,e,r,_,o){var n,l;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof _=="string"&&(t.style.cssText=_=""),_)for(e in _)r&&e in r||le(t.style,e,"");if(r)for(e in r)_&&r[e]==_[e]||le(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")n=e!=(e=e.replace(ke,"$1")),l=e.toLowerCase(),e=l in t||e=="onFocusOut"||e=="onFocusIn"?l.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+n]=r,r?_?r.u=_.u:(r.u=ee,t.addEventListener(e,n?K:Q,n)):t.removeEventListener(e,n?K:Q,n);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function se(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=ee++;else if(e.t<r.u)return;return r(f.event?f.event(e):e)}}}function re(t,e,r,_,o,n,l,c,h,s){var p,i,u,d,v,w,k,m,y,S,C,R,F,_e,A,H,j,N=e.type;if(e.constructor!=null)return null;128&r.__u&&(h=!!(32&r.__u),n=[c=e.__e=r.__e]),(p=f.__b)&&p(e);e:if(typeof N=="function")try{if(m=e.props,y="prototype"in N&&N.prototype.render,S=(p=N.contextType)&&_[p.__c],C=p?S?S.props.value:p.__:_,r.__c?k=(i=e.__c=r.__c).__=i.__E:(y?e.__c=i=new N(m,C):(e.__c=i=new O(m,C),i.constructor=N,i.render=Me),S&&S.sub(i),i.props=m,i.state||(i.state={}),i.context=C,i.__n=_,u=i.__d=!0,i.__h=[],i._sb=[]),y&&i.__s==null&&(i.__s=i.state),y&&N.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,N.getDerivedStateFromProps(m,i.__s))),d=i.props,v=i.state,i.__v=e,u)y&&N.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),y&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y&&N.getDerivedStateFromProps==null&&m!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,C),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,C)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(i.props=m,i.state=i.__s,i.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(x){x&&(x.__=e)}),R=0;R<i._sb.length;R++)i.__h.push(i._sb[R]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,C),y&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,v,w)})}if(i.context=C,i.props=m,i.__P=t,i.__e=!1,F=f.__r,_e=0,y){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),A=0;A<i._sb.length;A++)i.__h.push(i._sb[A]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++_e<25);i.state=i.__s,i.getChildContext!=null&&(_=E(E({},_),i.getChildContext())),y&&!u&&i.getSnapshotBeforeUpdate!=null&&(w=i.getSnapshotBeforeUpdate(d,v)),H=p,p!=null&&p.type===$&&p.key==null&&(H=Pe(p.props.children)),c=Ee(t,B(H)?H:[H],e,r,_,o,n,l,c,h,s),i.base=e.__e,e.__u&=-161,i.__h.length&&l.push(i),k&&(i.__E=i.__=null)}catch(x){if(e.__v=null,h||n!=null)if(x.then){for(e.__u|=h?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;n[n.indexOf(c)]=null,e.__e=c}else{for(j=n.length;j--;)te(n[j]);Y(e)}else e.__e=r.__e,e.__k=r.__k,x.then||Y(e);f.__e(x,e,r)}else n==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):c=e.__e=Ie(r.__e,e,r,_,o,n,l,h,s);return(p=f.diffed)&&p(e),128&e.__u?void 0:c}function Y(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Y)}function Ce(t,e,r){for(var _=0;_<r.length;_++)ne(r[_],r[++_],r[++_]);f.__c&&f.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(n){n.call(o)})}catch(n){f.__e(n,o.__v)}})}function Pe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:B(t)?t.map(Pe):E({},t)}function Ie(t,e,r,_,o,n,l,c,h){var s,p,i,u,d,v,w,k=r.props,m=e.props,y=e.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),n!=null){for(s=0;s<n.length;s++)if((d=n[s])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){t=d,n[s]=null;break}}if(t==null){if(y==null)return document.createTextNode(m);t=document.createElementNS(o,y,m.is&&m),c&&(f.__m&&f.__m(e,n),c=!1),n=null}if(y==null)k===m||c&&t.data==m||(t.data=m);else{if(n=n&&G.call(t.childNodes),k=r.props||L,!c&&n!=null)for(k={},s=0;s<t.attributes.length;s++)k[(d=t.attributes[s]).name]=d.value;for(s in k)if(d=k[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in m)){if(s=="value"&&"defaultValue"in m||s=="checked"&&"defaultChecked"in m)continue;M(t,s,null,d,o)}}for(s in m)d=m[s],s=="children"?u=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?v=d:s=="checked"?w=d:c&&typeof d!="function"||k[s]===d||M(t,s,d,k[s],o);if(p)c||i&&(p.__html==i.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),Ee(e.type=="template"?t.content:t,B(u)?u:[u],e,r,_,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,n,l,n?n[0]:r.__k&&D(r,0),c,h),n!=null)for(s=n.length;s--;)te(n[s]);c||(s="value",y=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[s]||y=="progress"&&!v||y=="option"&&v!=k[s])&&M(t,s,v,k[s],o),s="checked",w!=null&&w!=t[s]&&M(t,s,w,k[s],o))}return t}function ne(t,e,r){try{if(typeof t=="function"){var _=typeof t.__u=="function";_&&t.__u(),_&&e==null||(t.__u=t(e))}else t.current=e}catch(o){f.__e(o,r)}}function xe(t,e,r){var _,o;if(f.unmount&&f.unmount(t),(_=t.ref)&&(_.current&&_.current!=t.__e||ne(_,null,e)),(_=t.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(n){f.__e(n,e)}_.base=_.__P=null}if(_=t.__k)for(o=0;o<_.length;o++)_[o]&&xe(_[o],e,r||typeof t.type!="function");r||te(t.__e),t.__c=t.__=t.__e=void 0}function Me(t,e,r){return this.constructor(t,r)}function qe(t,e,r){var _,o,n,l;e==document&&(e=document.documentElement),f.__&&f.__(t,e),o=(_=!1)?null:e.__k,n=[],l=[],re(e,t=e.__k=$e($,null,[t]),o||L,L,e.namespaceURI,o?null:e.firstChild?G.call(e.childNodes):null,n,o?o.__e:e.firstChild,_,l),Ce(n,t,l)}G=we.slice,f={__e:function(t,e,r,_){for(var o,n,l;e=e.__;)if((o=e.__c)&&!o.__)try{if((n=o.constructor)&&n.getDerivedStateFromError!=null&&(o.setState(n.getDerivedStateFromError(t)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,_||{}),l=o.__d),l)return o.__E=o}catch(c){t=c}throw t}},ve=0,O.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},r),this.props)),t&&E(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},O.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},O.prototype.render=$,P=[],ge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,be=function(t,e){return t.__v.__b-e.__v.__b},U.__r=0,ke=/(PointerCapture)$|Capture$/i,ee=0,Q=se(!1),K=se(!0);var Oe=0;function a(t,e,r,_,o,n){e||(e={});var l,c,h=e;if("ref"in h)for(c in h={},e)c=="ref"?l=e[c]:h[c]=e[c];var s={type:t,props:h,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Oe,__i:-1,__u:0,__source:o,__self:n};if(typeof t=="function"&&(l=t.defaultProps))for(c in l)h[c]===void 0&&(h[c]=l[c]);return f.vnode&&f.vnode(s),s}var J,g,z,ce,X=0,De=[],b=f,ae=b.__b,ue=b.__r,de=b.diffed,he=b.__c,pe=b.unmount,fe=b.__;function We(t,e){b.__h&&b.__h(g,t,X||e),X=0;var r=g.__H||(g.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function T(t){return X=1,Ue(Fe,t)}function Ue(t,e,r){var _=We(J++,2);if(_.t=t,!_.__c&&(_.__=[Fe(void 0,e),function(c){var h=_.__N?_.__N[0]:_.__[0],s=_.t(h,c);h!==s&&(_.__N=[s,_.__[1]],_.__c.setState({}))}],_.__c=g,!g.__f)){var o=function(c,h,s){if(!_.__c.__H)return!0;var p=_.__c.__H.__.filter(function(u){return!!u.__c});if(p.every(function(u){return!u.__N}))return!n||n.call(this,c,h,s);var i=_.__c.props!==c;return p.forEach(function(u){if(u.__N){var d=u.__[0];u.__=u.__N,u.__N=void 0,d!==u.__[0]&&(i=!0)}}),n&&n.call(this,c,h,s)||i};g.__f=!0;var n=g.shouldComponentUpdate,l=g.componentWillUpdate;g.componentWillUpdate=function(c,h,s){if(this.__e){var p=n;n=void 0,o(c,h,s),n=p}l&&l.call(this,c,h,s)},g.shouldComponentUpdate=o}return _.__N||_.__}function Ge(){for(var t;t=De.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(Z),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){g=null,ae&&ae(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),fe&&fe(t,e)},b.__r=function(t){ue&&ue(t),J=0;var e=(g=t.__c).__H;e&&(z===g?(e.__h=[],g.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(Z),e.__h=[],J=0)),z=g},b.diffed=function(t){de&&de(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(De.push(e)!==1&&ce===b.requestAnimationFrame||((ce=b.requestAnimationFrame)||Be)(Ge)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),z=g=null},b.__c=function(t,e){e.some(function(r){try{r.__h.forEach(W),r.__h=r.__h.filter(function(_){return!_.__||Z(_)})}catch(_){e.some(function(o){o.__h&&(o.__h=[])}),e=[],b.__e(_,r.__v)}}),he&&he(t,e)},b.unmount=function(t){pe&&pe(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(_){try{W(_)}catch(o){e=o}}),r.__H=void 0,e&&b.__e(e,r.__v))};var me=typeof requestAnimationFrame=="function";function Be(t){var e,r=function(){clearTimeout(_),me&&cancelAnimationFrame(e),setTimeout(t)},_=setTimeout(r,35);me&&(e=requestAnimationFrame(r))}function W(t){var e=g,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),g=e}function Z(t){var e=g;t.__c=t.__(),g=e}function Fe(t,e){return typeof e=="function"?e(t):e}class je{constructor(){I(this,"worker",null);I(this,"nextId",1);I(this,"pending",new Map);this.initWorker()}initWorker(){this.worker=new Worker(new URL("/assets/sqlite.worker-ChcN1mGI.js",import.meta.url),{type:"module"}),this.worker.onmessage=e=>{const r=e.data;if("type"in r&&r.type==="READY"){console.log("[DbClient] Worker ready");return}const{id:_,response:o}=r,n=this.pending.get(_);n&&(this.pending.delete(_),n.resolve(o))},this.worker.onerror=e=>{console.error("[DbClient] Worker error:",e);for(const r of this.pending.values())r.reject(new Error("Worker error"));this.pending.clear()}}async sendRequest(e){if(!this.worker)throw new Error("Worker not initialized");const r=this.nextId++;return new Promise((_,o)=>{this.pending.set(r,{resolve:l=>{l.ok?_(l.data):o(new Error(l.error))},reject:o});const n={id:r,request:e};this.worker.postMessage(n)})}async openFromFile(e){return this.sendRequest({type:"OPEN_FROM_FILE",file:e})}async openDemo(){return this.sendRequest({type:"OPEN_DEMO"})}async close(){return this.sendRequest({type:"CLOSE"})}async searchFts(e,r=20){return this.sendRequest({type:"FTS_SEARCH",query:e,limit:r})}async searchHybrid(e,r=20,_){return this.sendRequest({type:"HYBRID_SEARCH",query:e,limit:r,weights:_})}async listEntities(e,r=100){return this.sendRequest({type:"LIST_ENTITIES",entityType:e,limit:r})}async getPageList(e=100,r=0){return this.sendRequest({type:"GET_PAGE_LIST",limit:e,offset:r})}async getPageBlob(e){return this.sendRequest({type:"GET_PAGE_BLOB",name:e})}async verifyPage(e){return this.sendRequest({type:"VERIFY_PAGE",gid:e})}async getCheckpoints(){return this.sendRequest({type:"GET_CHECKPOINTS"})}terminate(){this.worker&&(this.worker.terminate(),this.worker=null),this.pending.clear()}}let V=null;function ye(){return V||(V=new je),V}function ze(){const[t,e]=T(null),[r,_]=T(!1),[o,n]=T(null),[l,c]=T(null),[h,s]=T(""),p=async()=>{_(!0),n(null);try{const d=await ye().openDemo();e(d),console.log("Capsule info:",d)}catch(u){n(String(u)),console.error("Failed to open capsule:",u)}finally{_(!1)}},i=async u=>{if(t){_(!0),n(null),s(u);try{const v=await ye().searchHybrid(u,10);c(v),console.log("Search results:",v)}catch(d){n(String(d)),console.error("Search failed:",d)}finally{_(!1)}}};return a("div",{className:"app",children:[a("header",{className:"app-header",children:[a("h1",{children:"Glyphcapsule Explorer"}),a("p",{children:"Hybrid Retrieval Demo for MemGlyph"})]}),a("main",{className:"app-main",children:t?a("div",{className:"capsule-view",children:[a("div",{className:"capsule-info",children:[a("h2",{children:["ðŸ“¦ ",t.fileName]}),a("dl",{children:[a("dt",{children:"File Size:"}),a("dd",{children:[(t.fileSize/1024).toFixed(1)," KB"]}),a("dt",{children:"Doc ID:"}),a("dd",{children:a("code",{children:[t.docId.slice(0,24),"..."]})}),a("dt",{children:"Pages:"}),a("dd",{children:t.pageCount}),a("dt",{children:"Entities:"}),a("dd",{children:t.entityCount}),a("dt",{children:"Graph Edges:"}),a("dd",{children:t.edgeCount}),t.hasVectors&&a($,{children:[a("dt",{children:"Vectors:"}),a("dd",{children:["âœ… ",t.vectorModel," (",t.vectorDim,"-dim)"]})]})]})]}),a("div",{className:"search-section",children:[a("h3",{children:"ðŸ” Hybrid Search"}),a("p",{className:"search-hint",children:["Try searching: ",a("em",{children:'"vector search"'}),", ",a("em",{children:'"LEANN"'}),", ",a("em",{children:'"SQLite"'}),", or ",a("em",{children:'"hybrid retrieval"'})]}),a("form",{onSubmit:u=>{u.preventDefault();const v=new FormData(u.currentTarget).get("query");v.trim()&&i(v.trim())},children:a("div",{className:"search-bar",children:[a("input",{type:"text",name:"query",placeholder:"Search the capsule...",className:"search-input",disabled:r}),a("button",{type:"submit",className:"btn-search",disabled:r,children:"Search"})]})}),l&&a("div",{className:"search-results",children:[a("p",{className:"results-header",children:["Found ",l.length," results for ",a("strong",{children:['"',h,'"']})]}),l.map(u=>a("div",{className:"result-item",children:[a("div",{className:"result-header",children:[a("span",{className:"result-page",children:["Page ",u.pageNo]}),a("span",{className:"result-score",children:["Score: ",u.scores.final.toFixed(3)]})]}),a("h4",{className:"result-title",children:u.title}),u.snippet&&a("p",{className:"result-snippet",dangerouslySetInnerHTML:{__html:u.snippet}}),a("div",{className:"result-scores",children:[a("span",{children:["FTS: ",u.scores.fts.toFixed(2)]}),a("span",{children:["Entity: ",u.scores.entity.toFixed(2)]}),a("span",{children:["Graph: ",u.scores.graph.toFixed(2)]})]})]},u.gid))]})]})]}):a("div",{className:"welcome",children:[a("h2",{children:"Welcome!"}),a("p",{children:"This is an offline-capable PWA for exploring MemGlyph Glyphcapsules with hybrid retrieval (FTS + Vector + Entity + Graph)."}),a("p",{children:[a("strong",{children:"Demo capsule:"})," memglyph-demo.mgx.sqlite",a("br",{}),"(8 pages, 25 entities, 11 edges, 384-dim vectors)"]}),o&&a("div",{className:"error",children:[a("strong",{children:"Error:"})," ",o]}),a("button",{className:"btn-primary",onClick:p,disabled:r,children:r?"Opening...":"Open Demo Capsule"})]})}),a("footer",{className:"app-footer",children:a("p",{children:"Built with Preact + SQLite WASM + OPFS"})})]})}qe(a(ze,{}),document.getElementById("app"));
